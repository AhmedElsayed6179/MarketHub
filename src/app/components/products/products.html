@if (isLoggedIn) {
<div class="container py-5 Image-Background">
  <h2 class="text-center fw-bold mb-5">Our Products üõçÔ∏è</h2>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
    @for (prd of products$ | async; track prd.id; let i = $index) {
    <div class="col">
      <div class="card h-100 shadow rounded-3">
        <div class="d-flex justify-content-center align-items-center bg-white p-3 border-bottom" style="height: 230px;">
          <img [src]="prd.image" [alt]="prd.title" class="img-fluid" style="max-height: 100%; object-fit: contain;">
        </div>
        <div class="card-body">
          <h6 class="fw-bold text-truncate mb-2">{{ i + 1 }} - {{ prd.title }}</h6>
          <p class="text-primary fw-semibold mb-1">{{ prd.price | currency:'EGP' }}</p>
          <p class="small text-muted mt-1 mb-2">{{ prd.category }}</p>
          <p class="small text-muted text-truncate">{{ prd.description }}</p>
          <div class="d-flex align-items-center mt-2">
            <span class="badge bg-success me-2">{{ prd.rating.rate }} ‚òÖ</span>
            <small class="text-muted">({{ prd.rating.count }} reviews)</small>
          </div>
        </div>
        <div class="card-footer bg-transparent border-0 text-center pb-3">
          <button class="btn btn-outline-primary btn-sm px-4" (click)="BuyNow()">Add to Cart</button>
        </div>
      </div>
    </div>
    }
    @empty {
    <h1 class="text-center text-danger">Not Found Products</h1>
    }
  </div>
</div>
}

@if (!isLoggedIn) {
<div class="container text-center my-4">
  <h1>You are not logged in</h1>
  <p class="lead">Please log in or register to view products</p>
  <div class="mt-4">
    <button class="btn btn-primary mx-2" routerLink="/Login">Login</button>
    <button class="btn btn-info mx-2" routerLink="/Register">Register</button>
  </div>
  <div class="mt-3">
    <img src="images/erorr.png" alt="Placeholder" class="img-fluid" style="border-radius: 20px;width: 150px;">
  </div>
</div>
}
